{% extends "base.html" %}

{% block title %}Apresentação: Exercícios do Capítulo 2{% endblock %}

{% block content %}
    <style>
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
        }
        .presentation-body {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        #presentation-container {
            flex-grow: 1;
            position: relative;
        }
        .slide {
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .slide.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .slide-content {
            max-width: 1000px;
            width: 90%;
            margin: 0 auto;
            padding: 1rem;
        }
        .gradient-bg {
            background: linear-gradient(-45deg, #0e7490, #0891b2, #06b6d4, #22d3ee);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        code.python-code {
            background-color: #1e293b;
            color: #f8fafc;
            padding: 1rem;
            border-radius: 0.5rem;
            display: block;
            font-family: monospace;
            font-size: 1.125rem;
            white-space: pre-wrap;
            text-align: left;
        }
    </style>
<div class="gradient-bg text-white">
    <div class="presentation-body">
        <!-- Container dos Slides -->
        <div id="presentation-container">
            <!-- Slide 1: Título -->
            <div id="slide-1" class="slide">
                <div class="slide-content text-center">
                    <h1 class="text-4xl md:text-6xl font-black mb-4 tracking-tight">Exercícios do Capítulo 2</h1>
                    <p class="text-xl md:text-2xl text-cyan-200">Praticando o Básico</p>
                </div>
            </div>

            <!-- Slide 2: Exercício 2.1 -->
            <div id="slide-2" class="slide hidden">
                <div class="slide-content text-center">
                    <h2 class="text-2xl md:text-4xl font-bold mb-6">Exercício 2.1: Expressões Matemáticas</h2>
                    <p class="text-lg md:text-xl mb-4 bg-white/10 p-4 rounded-lg">Converta as expressões matemáticas para que possam ser calculadas no interpretador Python.</p>
                    <details class="bg-black/20 p-4 rounded-lg text-left cursor-pointer">
                        <summary class="font-bold">Ver Expressões e Soluções</summary>
                        <code class="python-code mt-4">
                            # 10 + 20 x 30
                            >>> 10 + 20 * 30
                            610

                            # 4² ÷ 30
                            >>> 4**2 / 30
                            0.5333...

                            # (9⁴ + 2) x 6 - 1
                            >>> (9**4 + 2) * 6 - 1
                            39383
                        </code>
                    </details>
                </div>
            </div>

            <!-- Slide 3: Exercício 2.2 -->
            <div id="slide-3" class="slide hidden">
                <div class="slide-content text-center">
                    <h2 class="text-2xl md:text-4xl font-bold mb-6">Exercício 2.2: Ordem de Precedência</h2>
                    <p class="text-lg md:text-xl mb-4 bg-white/10 p-4 rounded-lg">Digite a expressão abaixo no interpretador e tente resolver no papel, observando a prioridade das operações.</p>
                     <details class="bg-black/20 p-4 rounded-lg text-left cursor-pointer">
                        <summary class="font-bold">Ver Expressão e Solução</summary>
                        <code class="python-code mt-4">
                            # Expressão
                            >>> 10 % 3 * 10 ** 2 + 1 - 10 * 4 / 2
                            
                            # Resolução passo a passo:
                            # 1. Exponenciação: 10 ** 2 = 100
                            #    10 % 3 * 100 + 1 - 10 * 4 / 2
                            # 2. Multiplicação/Divisão/Módulo (esquerda p/ direita)
                            #    (10 % 3) = 1
                            #    1 * 100 + 1 - 10 * 4 / 2
                            #    (1 * 100) = 100
                            #    100 + 1 - (10 * 4) / 2
                            #    100 + 1 - 40 / 2
                            #    100 + 1 - (40 / 2) = 20.0
                            # 3. Soma/Subtração
                            #    (100 + 1) - 20.0 = 101 - 20.0 = 81.0

                            >>> 10 % 3 * 10 ** 2 + 1 - 10 * 4 / 2
                            81.0
                        </code>
                    </details>
                </div>
            </div>

            <!-- Slide 4: Exercício 2.3 -->
            <div id="slide-4" class="slide hidden">
                <div class="slide-content text-center">
                    <h2 class="text-2xl md:text-4xl font-bold mb-6">Exercício 2.3: Exibir Nome</h2>
                    <p class="text-lg md:text-xl mb-4 bg-white/10 p-4 rounded-lg">Faça um programa que exiba seu nome na tela.</p>
                     <details class="bg-black/20 p-4 rounded-lg text-left cursor-pointer">
                        <summary class="font-bold">Ver Solução</summary>
                        <code class="python-code mt-4">
                           print("Seu Nome Aqui")
                        </code>
                    </details>
                </div>
            </div>

            <!-- Slide 5: Exercício 2.4 -->
            <div id="slide-5" class="slide hidden">
                <div class="slide-content text-center">
                    <h2 class="text-2xl md:text-4xl font-bold mb-6">Exercício 2.4: Usando Variáveis</h2>
                    <p class="text-lg md:text-xl mb-4 bg-white/10 p-4 rounded-lg">Escreva um programa que exiba o resultado de 2a × 3b, onde a vale 3 e b vale 5.</p>
                     <details class="bg-black/20 p-4 rounded-lg text-left cursor-pointer">
                        <summary class="font-bold">Ver Solução</summary>
                        <code class="python-code mt-4">
                            a = 3
                            b = 5
                            resultado = 2 * a * 3 * b
                            print(resultado) # Saída: 90
                        </code>
                    </details>
                </div>
            </div>

            <!-- Slide 6: Exercício 2.5 -->
            <div id="slide-6" class="slide hidden">
                <div class="slide-content text-center">
                    <h2 class="text-2xl md:text-4xl font-bold mb-6">Exercício 2.5: Soma de Três Variáveis</h2>
                    <p class="text-lg md:text-xl mb-4 bg-white/10 p-4 rounded-lg">Modifique o programa da listagem 2.7 (soma de a + b) para calcular a soma de três variáveis.</p>
                     <details class="bg-black/20 p-4 rounded-lg text-left cursor-pointer">
                        <summary class="font-bold">Ver Solução</summary>
                        <code class="python-code mt-4">
                            a = 2
                            b = 3
                            c = 4 # Nova variável
                            print(a + b + c) # Saída: 9
                        </code>
                    </details>
                </div>
            </div>

            <!-- Slide 7: Exercício 2.6 -->
            <div id="slide-7" class="slide hidden">
                <div class="slide-content text-center">
                    <h2 class="text-2xl md:text-4xl font-bold mb-6">Exercício 2.6: Cálculo de Aumento</h2>
                    <p class="text-lg md:text-xl mb-4 bg-white/10 p-4 rounded-lg">Modifique o programa da listagem 2.11 para que ele calcule um aumento de 15% para um salário de R$ 750.</p>
                     <details class="bg-black/20 p-4 rounded-lg text-left cursor-pointer">
                        <summary class="font-bold">Ver Solução</summary>
                        <code class="python-code mt-4">
                            salario = 750
                            aumento = 15
                            novo_salario = salario + (salario * aumento / 100)
                            print(novo_salario) # Saída: 862.5
                        </code>
                    </details>
                </div>
            </div>

            <!-- Slide 8: Fim -->
            <div id="slide-8" class="slide hidden">
                <div class="slide-content text-center">
                    <h2 class="text-4xl md:text-6xl font-black mb-6">Fim dos Exercícios</h2>
                    <p class="text-xl md:text-2xl mb-8 text-cyan-200">Você praticou os conceitos iniciais de variáveis e operações!</p>
                    <p class="text-3xl md:text-4xl font-bold text-white">Pronto para o próximo capítulo!</p>
                </div>
            </div>
        </div>

        <!-- Controles de Navegação -->
        <div class="flex-shrink-0 p-4">
            <div class="flex justify-between items-center w-full max-w-5xl mx-auto">
                <span id="slide-counter" class="text-sm bg-black/20 px-3 py-1 rounded-full">1 / 8</span>
                <div class="flex items-center gap-2 text-sm text-cyan-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"/><path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>
                    <span>Deslize para navegar</span>
                </div>
                <div class="flex gap-2">
                    <button id="prev-btn" class="bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Anterior</button>
                    <button id="next-btn" class="bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg transition-colors">Próximo</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const slides = document.querySelectorAll('.slide');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const slideCounter = document.getElementById('slide-counter');
        const presentationContainer = document.getElementById('presentation-container');
        
        let currentSlide = 0;
        const totalSlides = slides.length;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.toggle('hidden', i !== index);
            });
            slideCounter.textContent = `${index + 1} / ${totalSlides}`;
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === totalSlides - 1;
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                showSlide(currentSlide);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                showSlide(currentSlide);
            }
        }

        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            else if (e.key === 'ArrowLeft') prevSlide();
        });

        let touchStartX = 0;
        let touchEndX = 0;

        presentationContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        presentationContainer.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            if (touchStartX - touchEndX > swipeThreshold) {
                nextSlide();
            } else if (touchEndX - touchStartX > swipeThreshold) {
                prevSlide();
            }
        }

        showSlide(currentSlide);
    </script>
</div>
{% endblock %}